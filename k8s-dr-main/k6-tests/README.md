# Portforge k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸

## ğŸ“‹ í…ŒìŠ¤íŠ¸ ëª©ë¡

| ë²ˆí˜¸ | íŒŒì¼ëª… | ì„¤ëª… | ëŒ€ìƒ ì„œë¹„ìŠ¤ |
|------|--------|------|-------------|
| 01 | `01-main-page-load.js` | ë©”ì¸ í˜ì´ì§€ ì‹œë®¬ë ˆì´ì…˜ | Project, Support |
| 02 | (ì˜ˆì •) í”„ë¡œì íŠ¸ ìƒì„¸ + ì§€ì› í”Œë¡œìš° | Project, Team |
| 03 | (ì˜ˆì •) ì‹¤ì‹œê°„ ì±„íŒ… ë¶€í•˜ | Support (DynamoDB) |
| 04 | (ì˜ˆì •) AI í…ŒìŠ¤íŠ¸ ë¬¸ì œ ìƒì„± | AI (Bedrock) |

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ê¸°ë³¸ ì‹¤í–‰ (í”„ë¡œë•ì…˜ í™˜ê²½)
```bash
k6 run k6-tests/01-main-page-load.js
```

### ë¡œì»¬ í™˜ê²½ í…ŒìŠ¤íŠ¸
```bash
k6 run -e BASE_URL=http://localhost:8000 k6-tests/01-main-page-load.js
```

### VU/Duration ì§ì ‘ ì§€ì •
```bash
# 50 VUë¡œ 2ë¶„ê°„ í…ŒìŠ¤íŠ¸
k6 run --vus 50 --duration 2m k6-tests/01-main-page-load.js
```

### Smoke Testë§Œ ì‹¤í–‰
```bash
k6 run --scenario smoke k6-tests/01-main-page-load.js
```

---

## ğŸ“Š ê²°ê³¼ í™•ì¸

### ì½˜ì†” ì¶œë ¥ ì£¼ìš” ì§€í‘œ
- `http_req_duration`: ìš”ì²­ ì‘ë‹µ ì‹œê°„
- `http_reqs`: ì´ˆë‹¹ ìš”ì²­ ìˆ˜ (RPS)
- `errors`: ì—ëŸ¬ìœ¨
- `vus`: ë™ì‹œ ê°€ìƒ ì‚¬ìš©ì ìˆ˜

### JSON ê²°ê³¼ íŒŒì¼
í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ `k6-tests/results/` ë””ë ‰í† ë¦¬ì— ìš”ì•½ íŒŒì¼ ìƒì„±

---

## âš™ï¸ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 01. ë©”ì¸ í˜ì´ì§€ ì‹œë®¬ë ˆì´ì…˜

**í…ŒìŠ¤íŠ¸ íë¦„:**
```
ì‚¬ìš©ì ì ‘ì† â†’ í”„ë¡œì íŠ¸ ëª©ë¡ ì¡°íšŒ â†’ ê³µì§€ì‚¬í•­ ì¡°íšŒ â†’ ë°°ë„ˆ ì¡°íšŒ
```

**ì‹œë‚˜ë¦¬ì˜¤:**
1. **Smoke (30ì´ˆ)**: 2 VUë¡œ ê¸°ë³¸ ë™ì‘ í™•ì¸
2. **Load (5ë¶„)**: 0â†’30 VU ì ì§„ ì¦ê°€ í›„ ìœ ì§€

**ì„±ëŠ¥ ëª©í‘œ (SLO):**
- p95 ì‘ë‹µì‹œê°„: < 500ms
- p99 ì‘ë‹µì‹œê°„: < 1000ms
- ì—ëŸ¬ìœ¨: < 1%

---

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| `BASE_URL` | `https://api.portforge.org` | API ë² ì´ìŠ¤ URL |

---

## ğŸ“ˆ Grafana ì—°ë™ (ì„ íƒ)

k6 ê²°ê³¼ë¥¼ Grafanaë¡œ ì‹œê°í™”í•˜ë ¤ë©´:

```bash
# InfluxDBë¡œ ê²°ê³¼ ì „ì†¡
k6 run --out influxdb=http://localhost:8086/k6 k6-tests/01-main-page-load.js
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸ ì‹œ**: íŒ€ì›ì—ê²Œ ì‚¬ì „ ê³µì§€
2. **AI í…ŒìŠ¤íŠ¸**: Bedrock/OpenAI ë¹„ìš© ë°œìƒ ì£¼ì˜
3. **DynamoDB**: RCU/WCU ì œí•œ í™•ì¸
4. **ALB**: ë™ì‹œ ì—°ê²° ìˆ˜ ì œí•œ í™•ì¸

---

## ğŸ—ï¸ ì¸í”„ë¼ ì •ë³´

- **ë„ë©”ì¸**: api.portforge.org
- **ë¡œë“œë°¸ëŸ°ì„œ**: AWS ALB
- **ì¸ì¦ì„œ**: ACM (HTTPS ê°•ì œ)
- **í´ëŸ¬ìŠ¤í„°**: EKS (ap-northeast-2)
