# DR 전략 선택: Warm Standby를 선택한 이유

## 1. DR 전략 4가지 비교

| 전략 | RTO | RPO | 비용 | 복잡도 |
|------|-----|-----|------|--------|
| Backup & Restore | 24시간+ | 24시간+ | 최저 ($50/월) | 낮음 |
| Pilot Light | 1~4시간 | 분 단위 | 낮음 ($100/월) | 중간 |
| **Warm Standby** | **30~40분** | **초 단위** | **중간 ($200/월)** | **중간** |
| Active-Active | 즉시 | 0 | 최고 ($500+/월) | 높음 |

---

## 2. 각 전략을 선택하지 않은 이유

### ❌ Backup & Restore
- **RTO 24시간+**: 서비스 복구까지 하루 이상 소요
- **RPO 24시간+**: 최대 하루치 데이터 손실 가능
- **문제점**: 
  - 백업에서 복원하는 동안 서비스 완전 중단
  - 사용자 이탈 및 신뢰도 하락
  - 팀 협업 플랫폼 특성상 실시간 데이터 손실 치명적
- **적합한 경우**: 비용이 최우선이고 장시간 다운타임 허용 가능한 서비스

### ❌ Pilot Light
- **RTO 1~4시간**: 복구에 수 시간 소요
- **장점**: Warm Standby보다 저렴
- **문제점**:
  - EKS 노드 스케일업에 15~30분 소요
  - RDS Read Replica Promote에 10~15분 소요
  - 애플리케이션 배포 및 헬스체크에 추가 시간 필요
  - 총 복구 시간이 예측하기 어려움
- **적합한 경우**: 비용 절감이 중요하고 1~2시간 다운타임 허용 가능한 서비스

### ❌ Active-Active
- **RTO 즉시**: 자동 Failover로 다운타임 거의 없음
- **RPO 0**: 데이터 손실 없음
- **문제점**:
  - **비용 2배 이상**: 양쪽 리전에서 동일 리소스 상시 운영 ($500+/월)
  - **복잡도 높음**: 
    - 데이터 충돌 해결 로직 필요
    - Global Load Balancer 설정 복잡
    - Cognito 양방향 동기화 구현 어려움
  - **운영 부담**: 두 리전 모두 모니터링 및 관리 필요
  - **현재 규모에 과도함**: 스타트업/MVP 단계에서 불필요한 투자
- **적합한 경우**: 금융, 의료 등 다운타임이 절대 허용되지 않는 미션 크리티컬 서비스

---

## 3. Warm Standby를 선택한 이유

### ✅ 비용 대비 효과 (Cost-Effectiveness)
```
Primary 비용: ~$230/월
DR 추가 비용: ~$204/월 (+88%)
총 비용: ~$434/월

→ 월 $204 투자로 가용성 99.9% → 99.99% 향상
```

### ✅ 적절한 RTO/RPO
| 지표 | 목표 | 예상 달성 |
|------|------|-----------|
| RTO | 40분 이내 | 35~40분 |
| RPO | 5초 이내 | 1~5초 |

- **RTO 35~40분 구성**:
  - 장애 지속 및 DR 선언 결정: 20분
  - RDS Promote: 5~10분
  - DNS 전파: 1~5분
  - 서비스 확인: 5분

- **RPO 1~5초 달성**:
  - RDS: Cross-Region Read Replica (비동기, ~5초 지연)
  - DynamoDB: Global Tables (자동 복제, ~1초)
  - S3: Cross-Region Replication (15분 이내, 비핵심 데이터)

### ✅ 구현 복잡도 적절
- EKS 클러스터 상시 운영 (스케일 축소 상태)
- RDS Read Replica 자동 동기화
- DynamoDB Global Tables 자동 복제
- 단방향 Failover로 데이터 충돌 없음

### ✅ PortForge 서비스 특성에 적합
1. **팀 협업 플랫폼**: 30분 이내 복구로 업무 연속성 보장
2. **실시간 채팅**: DynamoDB Global Tables로 채팅 데이터 보호
3. **프로젝트 데이터**: RDS 복제로 핵심 데이터 보호
4. **파일 저장소**: S3 CRR로 팀 파일 보호

---

## 4. 결론

| 평가 기준 | Warm Standby 점수 |
|-----------|-------------------|
| 비용 효율성 | ⭐⭐⭐⭐ (4/5) |
| 복구 시간 | ⭐⭐⭐⭐ (4/5) |
| 데이터 보호 | ⭐⭐⭐⭐⭐ (5/5) |
| 구현 복잡도 | ⭐⭐⭐⭐ (4/5) |
| 운영 부담 | ⭐⭐⭐⭐ (4/5) |

**Warm Standby는 "적절한 비용으로 충분한 보호"를 제공하는 균형 잡힌 선택입니다.**

- Backup & Restore보다 훨씬 빠른 복구
- Pilot Light보다 예측 가능한 RTO
- Active-Active보다 절반 이하의 비용
- 스타트업/성장 단계 서비스에 최적화된 전략
